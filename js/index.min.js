function i(e){for(var i=0,t=new Array(e.length);i<e.length;i++){t[i]=e[i]}return t}if(window.Element&&!Element.prototype.matches){if(Element.prototype.msMatchesSelector){Element.prototype.matches=Element.prototype.msMatchesSelector}else if(Element.prototype.oMatchesSelector){Element.prototype.matches=Element.prototype.oMatchesSelector}else if(Element.prototype.mozMatchesSelector){Element.prototype.matches=Element.prototype.mozMatchesSelector}else if(Element.prototype.webkitMatchesSelector){Element.prototype.matches=Element.prototype.webkitMatchesSelector}else if(document.querySelectorAll){Element.prototype.matches=function e(e){var i=(this.document||this.ownerDocument).querySelectorAll(e),t=i.length;while(--t>=0&&i.item(t)!==this){}return t>-1}}}if(window.Element&&!Element.prototype.closest){Element.prototype.closest=function(e){var i=(this.document||this.ownerDocument).querySelectorAll(e),t,o=this;do{t=i.length;while(--t>=0&&i.item(t)!==o){}}while(t<0&&(o=o.parentElement));return o}}var t=document.querySelector(".contacts");var o=document.querySelector(".slider");var n=document.querySelector(".services__slider");var d=document.querySelector(".catalog-merchandise__list");var s=document.querySelector(".site-header__basket");var l=s.querySelector(".site-header__basket-count");var c=document.querySelector(".site-header__bookmarks");var _=c.querySelector(".site-header__bookmarks-count");document.addEventListener("keyup",function(e){if(e.keyCode===27){i(document.querySelectorAll(".modal")).forEach(function(e){if(!e.classList.contains("modal--hide")){e.firstElementChild.classList.add("modal--zoomOut")}})}});document.addEventListener("click",function(e){if(e.target.matches(".modal-close")||e.target.matches(".modal-add-product__link--shop")){e.preventDefault();e.target.closest(".modal-block").classList.add("modal--zoomOut")}if(e.target.matches(".modal")){e.target.firstElementChild.classList.add("modal--zoomOut")}});document.addEventListener("animationend",function(e){if(e.target.matches(".modal--zoomOut")){e.target.closest(".modal").classList.add("modal--hide");e.target.classList.remove("modal--zoomOut")}});if(t){t.addEventListener("click",function(e){if(e.target.closest(".contacts__link")){e.preventDefault();document.querySelector(".modal--feedback").classList.remove("modal--hide")}if(e.target.closest(".contacts__map-link")){e.preventDefault();document.querySelector(".modal--map").classList.remove("modal--hide")}})}if(o){o.addEventListener("click",function(e){if(e.target.closest(".slider__arrow-left")||e.target.closest(".slider__arrow-right")||e.target.closest(".slider__dot")&&!e.target.closest(".slider__dot").classList.contains("slider__dot--active")){i(o.querySelectorAll(".slider__slide")).forEach(function(e){return e.classList.toggle("slider__slide--change")});i(o.querySelectorAll(".slider__dot")).forEach(function(e){return e.classList.toggle("slider__dot--active")})}});o.addEventListener("focusin",function(e){if(e.target.matches(".slider__button--first")&&e.target.closest(".slider__slide").classList.contains("slider__slide--change")||e.target.matches(".slider__button--second")&&!e.target.closest(".slider__slide").classList.contains("slider__slide--change")){i(o.querySelectorAll(".slider__slide")).forEach(function(e){return e.classList.toggle("slider__slide--change")});i(o.querySelectorAll(".slider__dot")).forEach(function(e){return e.classList.toggle("slider__dot--active")})}})}if(n){var r=i(n.querySelectorAll(".services__slide"));var a=i(n.querySelectorAll(".services__button"));var m=a.indexOf(n.querySelector(".services__button--active"));n.addEventListener("click",function(e){if(e.target.closest(".services__button")&&!e.target.closest(".services__button").classList.contains("services__button--active")){r[m].classList.remove("services__slide--active");a[m].classList.remove("services__button--active");m=a.indexOf(e.target.closest(".services__button"));r[m].classList.add("services__slide--active");a[m].classList.add("services__button--active")}})}if(d&&s&&l&&c&&_){d.addEventListener("click",function(e){if(e.target.closest(".merchandise__buy-link")){e.preventDefault();s.classList.add("site-header__basket--active");l.textContent=+l.textContent+1+"";document.querySelector(".modal--add-product").classList.remove("modal--hide")}if(e.target.closest(".merchandise__bookmark")){c.classList.add("site-header__bookmarks--active");_.textContent=+_.textContent+1+""}})}
