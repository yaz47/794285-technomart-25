function t(e){for(var t=0,i=new Array(e.length);t<e.length;t++){i[t]=e[t]}return i}if(window.Element&&!Element.prototype.matches){if(Element.prototype.msMatchesSelector){Element.prototype.matches=Element.prototype.msMatchesSelector}else if(Element.prototype.oMatchesSelector){Element.prototype.matches=Element.prototype.oMatchesSelector}else if(Element.prototype.mozMatchesSelector){Element.prototype.matches=Element.prototype.mozMatchesSelector}else if(Element.prototype.webkitMatchesSelector){Element.prototype.matches=Element.prototype.webkitMatchesSelector}else if(document.querySelectorAll){Element.prototype.matches=function e(e){var t=(this.document||this.ownerDocument).querySelectorAll(e),i=t.length;while(--i>=0&&t.item(i)!==this){}return i>-1}}}if(window.Element&&!Element.prototype.closest){Element.prototype.closest=function(e){var t=(this.document||this.ownerDocument).querySelectorAll(e),i,o=this;do{i=t.length;while(--i>=0&&t.item(i)!==o){}}while(i<0&&(o=o.parentElement));return o}}var i=document.querySelector(".contacts");var o=document.querySelector(".slider");var n=document.querySelector(".services__slider");var d=document.querySelector(".catalog-merchandise__list");var c=document.querySelector(".site-header__basket");var a=c.querySelector(".site-header__basket-count");var l=document.querySelector(".site-header__bookmarks");var s=l.querySelector(".site-header__bookmarks-count");document.addEventListener("keyup",function(e){if(e.keyCode===27){t(document.querySelectorAll(".modal")).forEach(function(e){if(!e.classList.contains("modal--hide")){e.firstElementChild.classList.add("modal--zoomOut")}})}});document.addEventListener("click",function(e){if(e.target.matches(".modal-close")||e.target.matches(".modal-add-product__link--shop")){e.preventDefault();e.target.closest(".modal-block").classList.add("modal--zoomOut")}if(e.target.matches(".modal")){e.target.firstElementChild.classList.add("modal--zoomOut")}});document.addEventListener("animationend",function(e){if(e.target.matches(".modal--zoomOut")){e.target.closest(".modal").classList.add("modal--hide");e.target.classList.remove("modal--zoomOut")}});if(i){i.addEventListener("click",function(e){if(e.target.closest(".contacts__link")){e.preventDefault();document.querySelector(".modal--feedback").classList.remove("modal--hide")}if(e.target.closest(".contacts__map-link")){e.preventDefault();document.querySelector(".modal--map").classList.remove("modal--hide")}})}if(o){o.addEventListener("click",function(e){if(e.target.closest(".slider__arrow-left")||e.target.closest(".slider__arrow-right")||e.target.closest(".slider__dot")&&!e.target.closest(".slider__dot").classList.contains("slider__dot--active")){t(o.querySelectorAll(".slider__slide")).forEach(function(e){return e.classList.toggle("slider__slide--none")});t(o.querySelectorAll(".slider__dot")).forEach(function(e){return e.classList.toggle("slider__dot--active")})}})}if(n){var r=t(n.querySelectorAll(".services__slide"));var _=t(n.querySelectorAll(".services__button"));var m=_.indexOf(n.querySelector(".services__button--active"));n.addEventListener("click",function(e){if(e.target.closest(".services__button")&&!e.target.closest(".services__button").classList.contains("services__button--active")){r[m].classList.remove("services__slide--active");_[m].classList.remove("services__button--active");m=_.indexOf(e.target.closest(".services__button"));r[m].classList.add("services__slide--active");_[m].classList.add("services__button--active")}})}if(d&&c&&a&&l&&s){d.addEventListener("click",function(e){if(e.target.closest(".merchandise__buy-link")){e.preventDefault();c.classList.add("site-header__basket--active");a.textContent=+a.textContent+1+"";document.querySelector(".modal--add-product").classList.remove("modal--hide")}if(e.target.closest(".merchandise__bookmark")){l.classList.add("site-header__bookmarks--active");s.textContent=+s.textContent+1+""}})}
